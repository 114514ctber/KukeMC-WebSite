(()=>{var e={};e.id=833,e.ids=[833],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(58908),r(12701),r(35866);var s=r(23191),a=r(88716),i=r(37922),l=r.n(i),n=r(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["skin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,58908)),"D:\\编程\\KukeMC-Website\\KukeMC-WebSite\\src\\app\\skin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,12701)),"D:\\编程\\KukeMC-Website\\KukeMC-WebSite\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\编程\\KukeMC-Website\\KukeMC-WebSite\\src\\app\\skin\\page.tsx"],x="/skin/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/skin/page",pathname:"/skin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},18058:(e,t,r)=>{Promise.resolve().then(r.bind(r,7016))},43810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},21405:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},63685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},7016:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var s=r(10326),a=r(17577),i=r(24846),l=r(88129),n=r(71709),o=r(63685),d=r(41291),c=r(77506),x=r(32933),u=r(43810),p=r(21405),m=r(41135),h=r(33385);let g=()=>{let[e,t]=(0,a.useState)(null),[r,g]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),[k,v]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),[N,w]=(0,a.useState)(!1),M=(0,a.useRef)(null),q=e=>{if(v(null),!e.type.startsWith("image/")){v("请上传有效的图片文件 (PNG, JPG)");return}if(e.size>1048576){v("皮肤图片大小不能超过 1MB");return}t(e)},C=async()=>{if(!e)return;f(!0),v(null);let t=new FormData;t.append("file",e);try{let e=await (0,h.lY)(),r=await h.ZP.post("/api/upload/image",t,{headers:{"Content-Type":"multipart/form-data",...e}});y(r.data.url)}catch(e){v(e.response?.data?.detail||e.message||"上传失败")}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[(0,s.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4 transition-colors duration-300",children:["皮肤",s.jsx("span",{className:"text-gradient",children:"上传"})]}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg max-w-2xl mx-auto transition-colors duration-300",children:"上传您的自定义皮肤，获取游戏内指令。支持 PNG、JPG 格式，建议尺寸 64x64 或 64x32。"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-8",children:s.jsx(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"glass-panel p-8 rounded-2xl relative overflow-hidden transition-colors duration-300",children:j?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx(i.E.div,{initial:{scale:0},animate:{scale:1},className:"w-20 h-20 bg-emerald-500/20 rounded-full flex items-center justify-center mb-6",children:s.jsx(x.Z,{className:"w-10 h-10 text-emerald-500 dark:text-emerald-400 transition-colors duration-300"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2 transition-colors duration-300",children:"上传成功!"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8 text-center transition-colors duration-300",children:"您的皮肤已成功上传，请在游戏内使用以下指令更换皮肤"}),(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-8 max-w-2xl w-full flex flex-col items-center transition-colors duration-300",children:[s.jsx("div",{className:"mb-4 relative group",children:s.jsx("img",{src:j,alt:"Skin Preview",className:"h-32 object-contain bg-[url('https://checkerboard-bg.netlify.app/checkerboard.svg')] bg-cover rounded-lg border border-slate-300 dark:border-slate-600 transition-colors duration-300"})}),(0,s.jsxs)("div",{className:"w-full flex items-center gap-2 bg-slate-100 dark:bg-slate-950 p-3 rounded-lg border border-slate-200 dark:border-slate-800 transition-colors duration-300",children:[(0,s.jsxs)("code",{className:"flex-1 text-emerald-600 dark:text-emerald-400 font-mono text-sm break-all transition-colors duration-300",children:['/skin url "',j,'"']}),s.jsx("button",{onClick:()=>{if(!j)return;let e=`/skin url "${j}"`;navigator.clipboard.writeText(e),w(!0),setTimeout(()=>w(!1),2e3)},className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg transition-colors text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white relative",title:"复制指令",children:N?s.jsx(x.Z,{className:"w-5 h-5 text-emerald-500 dark:text-emerald-400 transition-colors duration-300"}):s.jsx(u.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("button",{onClick:()=>{t(null),y(null),v(null),M.current&&(M.current.value="")},className:"px-6 py-2 rounded-lg text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors flex items-center gap-2 duration-300",children:[s.jsx(p.Z,{className:"w-4 h-4"}),"上传另一个皮肤"]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx("input",{type:"file",ref:M,onChange:e=>{e.target.files&&e.target.files.length>0&&q(e.target.files[0])},accept:"image/*",className:"hidden"}),(0,s.jsxs)("div",{onDragOver:e=>{e.preventDefault(),g(!0)},onDragLeave:e=>{e.preventDefault(),g(!1)},onDrop:e=>{e.preventDefault(),g(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&q(e.dataTransfer.files[0])},onClick:()=>M.current?.click(),className:(0,m.Z)("w-full max-w-xl h-64 border-2 border-dashed rounded-xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 group",r?"border-emerald-500 bg-emerald-500/10":"border-slate-300 dark:border-slate-700 hover:border-emerald-500/50 hover:bg-slate-100 dark:hover:bg-slate-800/50"),children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:e?s.jsx(n.Z,{className:"w-8 h-8 text-emerald-500 dark:text-emerald-400 transition-colors duration-300"}):s.jsx(o.Z,{className:"w-8 h-8 text-slate-400 group-hover:text-emerald-500 dark:group-hover:text-emerald-400 transition-colors duration-300"})}),e?(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-1 transition-colors duration-300",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors duration-300",children:[(e.size/1024).toFixed(2)," KB"]})]}):(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-1 transition-colors duration-300",children:"点击或拖拽文件到此处"}),s.jsx("p",{className:"text-sm text-slate-500 transition-colors duration-300",children:"支持 .png, .jpg, .jpeg"})]})]}),s.jsx(l.M,{children:k&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 flex items-center gap-2 text-red-500 dark:text-red-400 bg-red-100 dark:bg-red-400/10 px-4 py-2 rounded-lg transition-colors duration-300",children:[s.jsx(d.Z,{className:"w-5 h-5"}),s.jsx("span",{children:k})]})}),s.jsx("button",{onClick:C,disabled:!e||b,className:(0,m.Z)("mt-8 px-8 py-3 rounded-xl font-bold text-white flex items-center gap-2 transition-all duration-300",!e||b?"bg-slate-300 dark:bg-slate-700 cursor-not-allowed opacity-50":"bg-gradient-to-r from-emerald-500 to-teal-500 hover:shadow-lg hover:shadow-emerald-500/20 active:scale-95"),children:b?(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{className:"w-5 h-5 animate-spin"}),"正在上传..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Z,{className:"w-5 h-5"}),"开始上传"]})})]})})})]})})}},58908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(19510);let a=(0,r(68570).createProxy)(String.raw`D:\编程\KukeMC-Website\KukeMC-WebSite\src\components\next\SkinClient.tsx#default`),i={title:"皮肤上传 - KukeMC",description:"上传您的 Minecraft 皮肤到 KukeMC 服务器。"};function l(){return s.jsx(a,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,933,136],()=>r(977));module.exports=s})();